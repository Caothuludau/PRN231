<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manager Dashboard</title>
    <link rel="stylesheet" href="/css/ManagerDashboard.css">
</head>

<body>

    <div class="main-content">
    <div class="sidebar">
        <a href="#">Manage Movies</a>
        <a href="#">Manage Schedules</a>
        <a href="#">Manage Ticket Sales</a>
    </div>
    
    <div class="container">
        <div>
            <h2>Groovy Cineplex's Info</h2>
        </div>

        <div class="table-container">
            <div>
                <h3>Number of Cinemas</h3>
                <h1>10</h1> <!-- Replace with actual number -->
            </div>
            <div style="border-left: 1px solid black;">
                <h3>Number of Rooms</h3>
                <h1>50</h1> <!-- Replace with actual number -->
            </div>
            <div style="border-left: 1px solid black;">
                <h3>Number of Customers</h3>
                <h1>5000</h1> <!-- Replace with actual number -->
            </div>
        </div>

        <div style="margin-top: 10px;">
            <h2>Website Performance</h2>

            <h3 style="margin-left: 15%; display: inline-block;" class="chart-website-button">
                Numbers of Buyers
            </h3>
            <h3 style="margin-left: 10px; display: inline-block;" class="chart-website-button">
                Numbers of Tickets Sales
            </h3>
        </div>
        <form action="/headmanage/dashboard" method="POST">
            <input type='hidden' name='action' value='changeBuyersViewType'>
            <div style="display: flex; align-items: center;margin-top: 10px">
                <div style="text-align: right;">
                    <select name="viewType">
                        <option value="7D">Past 7 days</option>
                        <option value="YM">This year (by month period)</option>
                        <option value="YQ">This year (by quarter period)</option>
                        <option value="7DV7D">Past 7 days versus previous 7 days</option>
                    </select>
                    <button type="submit">Confirm</button>
                </div>
            </div>
        </form>

        <div class="web-preformance-chart">
            <canvas id="lineChart"></canvas>
        </div>
        <div style="margin-top: 10px;" class="revenue">
            <h2>Revenue</h2>

            <div style="text-align: right">
                <form action="/headmanage/dashboard" method="POST">
                    <input type='hidden' name='action' value='changeRevenuesViewType'>
                    <select name="viewType">
                        <option value="7D">Past 7 days</option>
                        <option value="YM">This year (by month period)</option>
                        <option value="YQ">This year (by quarter period)</option>
                        <option value="7DV7D">Past 7 days versus previous 7 days</option>
                    </select>
                    <button type="submit">Confirm</button>
                </form>
            </div>
        </div>

        <div class="revenue-chart">
            <canvas id="column-chart-1"></canvas>
        </div>
        <div style="margin-top: 10px;" class="top-movies">
            <h2>Top 5 highest watched movies</h2>
            <div style="text-align: right;">
                <form action="/headmanage/dashboard" method="POST">
                    <input type='hidden' name='action' value='changeMoviesViewType'>
                    <select name="viewType">
                        <option value="W">This week</option>
                        <option value="M">This month</option>
                        <option value="Q">This quarter</option>
                        <option value="Y">This year</option>
                    </select>
                    <button type="submit">Confirm</button>
                </form>
            </div>
        </div>
        <div class="top-movies-chart">
            <canvas id="top-movies-chart"></canvas>
        </div>
    </div>
    </div>
</body>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
    // Dữ liệu biểu đồ
    var buyersData = [
        { value: 100, label: '2023-01-01' },
        { value: 150, label: '2023-01-02' },
        // Add more data as needed
    ];
    var revenuesData = [
        { value: 200, label: '2023-01-01' },
        { value: 250, label: '2023-01-02' },
        // Add more data as needed
    ];
    var moviesData = [
        { value: 300, label: 'Movie 1' },
        { value: 350, label: 'Movie 2' },
        // Add more data as needed
    ];

    // Biểu đồ buyers
    const ctx = document.getElementById('lineChart').getContext('2d');
    buyersData.sort((a, b) => new Date(a.label) - new Date(b.label));
    const chart = new Chart(ctx, {
        type: 'line',
        data: {
            labels: buyersData.map(entry => entry.label),
            datasets: [{
                label: 'Buyers',
                data: buyersData.map(entry => entry.value),
                barThickness: 45
            }],
        },
        options: {
            responsive: true
        }
    });

    // Biểu đồ revenue
    const col = document.getElementById('column-chart-1').getContext('2d');
    revenuesData.sort((a, b) => new Date(a.label) - new Date(b.label));
    const colChart = new Chart(col, {
        type: 'bar',
        data: {
            labels: revenuesData.map(entry => entry.label),
            datasets: [{
                label: 'Revenue (vnd)',
                data: revenuesData.map(entry => entry.value),
                barThickness: 45
            }],
        },
        options: {
            responsive: true
        }
    });

    // Biểu đồ top 5 movie
    const movieChart = document.getElementById('top-movies-chart').getContext('2d');
    const topMovieChart = new Chart(movieChart, {
        type: 'bar',
        data: {
            labels: moviesData.map(entry => entry.label),
            datasets: [{
                label: 'TicketSale',
                data: moviesData.map(entry => entry.value),
                barThickness: 45
            }],
        },
        options: {
            responsive: true
        }
    });
</script>

</html>